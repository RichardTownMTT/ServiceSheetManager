@model ServiceSheetManager.ViewModels.ServiceSheetApprovalVM

@{
    ViewBag.Title = "Approve Service Sheet";
}

@using (Html.BeginForm("Approve", "ServiceSheetApproval", FormMethod.Post, new { @class = "form-horizontal" }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.ServiceSheetModel.Id)
    @Html.HiddenFor(m => m.ServiceSheetModel.SubmissionNumber)
    @Html.HiddenFor(m => m.ServiceSheetModel.AppName)
    @Html.HiddenFor(m => m.ServiceSheetModel.CanvasResponseId)
    @Html.HiddenFor(m => m.ServiceSheetModel.Username)
    @Html.HiddenFor(m => m.ServiceSheetModel.SubmissionFormName)
    @Html.HiddenFor(m => m.ServiceSheetModel.SubmissionFormVersion)
    @Html.HiddenFor(m => m.ServiceSheetModel.DtDevice)
    @Html.HiddenFor(m => m.ServiceSheetModel.DtResponse)

    <h2>Service Report and Timesheet No. @Html.DisplayFor(m => m.ServiceSheetModel.SubmissionNumber)</h2>

    if (Model.Errors)
    {
        <div class="text-danger">
            <h4>The errors need fixing before submission</h4>
        </div>
    }

    <div>
        <div class="row page-header">
            <h3 class="col-md-12">Job Details</h3>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.Customer, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.Customer, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.Customer)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.AddressLine1, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.AddressLine1, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.AddressLine1)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.AddressLine2, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.AddressLine2, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.AddressLine2)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.TownCity, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.TownCity, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.TownCity)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.Postcode, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.Postcode, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.Postcode)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.CustomerContact, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.CustomerContact, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.CustomerContact)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.CustomerPhoneNo, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.CustomerPhoneNo, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.CustomerPhoneNo)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.MachineMakeModel, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.MachineMakeModel, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.MachineMakeModel)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.MachineSerial, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.MachineSerial, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.MachineSerial)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.CncControl, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.CncControl, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.CncControl)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.DtJobStart, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.DtJobStart, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.DtJobStart)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.CustomerOrderNo, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.CustomerOrderNo, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.CustomerOrderNo)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.MttJobNumber, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.MttJobNumber, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.MttJobNumber)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.JobDescription, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextAreaFor(m => m.ServiceSheetModel.JobDescription, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.JobDescription)</div>
        </div>

        <div class="row"></div>

        <div class="row page-header">
            <h3 class="col-md-12">Timesheets</h3>
        </div>

        <div class="panel-group" id="accordion-service-days">
            @Html.EditorFor(m => m.ServiceDayModels)
        </div>

        <div class="row page-header">
            <h3 class="col-md-12">Service Report</h3>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.JobTotalTravelTime, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.JobTotalTravelTime, new { @class = "JobTotalTravelTime form-control", @readonly = true })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.JobTotalTravelTime)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.JobTotalTimeOnsite, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.JobTotalTimeOnsite, new { @class = "JobTotalOnsiteTime form-control", @readonly = true })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.JobTotalTimeOnsite)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.JobTotalMileage, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.JobTotalMileage, new { @class = "JobTotalMileage form-control", @readonly = true })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.JobTotalMileage)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.TotalDailyAllowances, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.TotalDailyAllowances, new { @class = "JobTotalDailyAllowances form-control", @readonly = true })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.TotalDailyAllowances)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.TotalOvernightAllowances)</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.TotalOvernightAllowances, new { @class = "JobTotalOvernightAllowances form-control", @readonly = true })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.TotalOvernightAllowances)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.JobStatus, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.JobStatus, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.JobStatus)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.FinalJobReport, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextAreaFor(m => m.ServiceSheetModel.FinalJobReport, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.FinalJobReport)</div>
        </div>

        <div class="row page-header">
            <h3 class="col-md-12">Follow-up Work</h3>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.AdditionalFaults, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextAreaFor(m => m.ServiceSheetModel.AdditionalFaults, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.AdditionalFaults)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.FollowUpPartsRequired)</div>
            <div class="col-md-4">@Html.TextAreaFor(m => m.ServiceSheetModel.FollowUpPartsRequired, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.FollowUpPartsRequired)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.QuoteRequired)</div>
            <div class="col-md-4">@Html.CheckBoxFor(m => m.ServiceSheetModel.QuoteRequired)</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.QuoteRequired)</div>
        </div>
        <div class="row page-header">
            <h3 class="col-md-12">Follow-up Work Images</h3>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.Image1Url, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.Image1Url, new { @class = "form-control", @readonly = true })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.Image1Url)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.Image2Url, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.Image2Url, new { @class = "form-control", @readonly = true })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.Image2Url)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.Image3Url, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.Image3Url, new { @class = "form-control", @readonly = true })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.Image3Url)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.Image4Url, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.Image4Url, new { @class = "form-control", @readonly = true })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.Image4Url)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.Image5Url, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.Image5Url, new { @class = "form-control", @readonly = true })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.Image5Url)</div>
        </div>
        <div class="row page-header">
            <h3 class="col-md-12">Job Signoff</h3>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.CustomerSignatureUrl, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.CustomerSignatureUrl, new { @class = "form-control", @readonly = true })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.CustomerSignatureUrl)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.CustomerName, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.CustomerName, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.CustomerName)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.DtSigned, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.DtSigned, new { @class = "form-control" })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.DtSigned)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.MttEngSignatureUrl, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.MttEngSignatureUrl, new { @class = "form-control", @readonly = true })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.MttEngSignatureUrl)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.UserFirstName, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.UserFirstName, new { @class = "form-control", @readonly = true })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.UserFirstName)</div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">@Html.LabelFor(m => m.ServiceSheetModel.UserSurname, new { @class = "control-label" })</div>
            <div class="col-md-4">@Html.TextBoxFor(m => m.ServiceSheetModel.UserSurname, new { @class = "form-control", @readonly = true })</div>
            <div class="col-md-6 text-danger">@Html.ValidationMessageFor(m => m.ServiceSheetModel.UserSurname)</div>
        </div>
        <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-2">@Html.ActionLink("Back", "Index", "ServiceSheetApproval", new { @class = "btn btn-default" })</div>
            <div class="col-md-2">
                <input type="submit" value="Approve" class="btn btn-default" />
            </div>
            <div class="col-md-6"></div>
        </div>
    </div>
}
<script src="~/Scripts/ServiceSheetApproval/ServiceSheetApprovalManagement.js">
    
</script>



